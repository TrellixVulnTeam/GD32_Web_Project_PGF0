{"ast":null,"code":"import _classCallCheck from\"C:/GitHub/GDJ32_E_WebProject/Workspace/GDJ32_E_FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from'axios';// 액시오스\n// import Cookies from 'universal-cookie';\nimport Cookies from'universal-cookie';var cookies=new Cookies();var USER_API_BASE_URL=\"http://localhost:8080\";var AxiosRequestConfig={headers:cookies.get(\"accessToken\")};var ApiService=function ApiService(){_classCallCheck(this,ApiService);this.addUser=function(user){console.log(\"addUser In\");return axios.post(\"\".concat(USER_API_BASE_URL,\"/users/signup\"),user);};this.loginUser=function(user){console.log(\"login success\");// console.log(`URL : ${USER_API_BASE_URL}/login`);\nconsole.log(user);// cofing 넣었을때 전송 오류 남\n// const AxiosRequestConfig = {\n//     transformRequest: 'application/x-www-form-urlencoded'\n// }\nvar userData={username:user.id,password:user.password};// cookies.set(\"id\", userData.username)\nconsole.log(userData);cookies.set(\"userId\",userData.username);// return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\nreturn axios.post(\"\".concat(USER_API_BASE_URL,\"/auth\"),userData);};this.logoutUser=function(user){console.log(\"login success\");// console.log(`URL : ${USER_API_BASE_URL}/login`);\nconsole.log(user);// cofing 넣었을때 전송 오류 남\n// const AxiosRequestConfig = {\n//     transformRequest: 'application/x-www-form-urlencoded'\n// }\nvar userData={username:user.id,password:user.password};// cookies.set(\"id\", userData.username)\nconsole.log(userData);cookies.set(\"userId\",userData.username);// return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\nreturn axios.post(\"\".concat(USER_API_BASE_URL,\"/logout\"),userData,AxiosRequestConfig);};this.UpdateUser=function(user){console.log(\"UpdateUser\");return axios.post(\"\".concat(USER_API_BASE_URL,\"/users/updateUser\"),user);};};export default new ApiService();","map":{"version":3,"sources":["C:/GitHub/GDJ32_E_WebProject/Workspace/GDJ32_E_FrontEnd/src/ApiService.js"],"names":["axios","Cookies","cookies","USER_API_BASE_URL","AxiosRequestConfig","headers","get","ApiService","addUser","user","console","log","post","loginUser","userData","username","id","password","set","logoutUser","UpdateUser"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAA2B;AAC3B;AACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,GAAID,CAAAA,OAAJ,EAAhB,CACA,GAAME,CAAAA,iBAAiB,CAAG,uBAA1B,CACA,GAAMC,CAAAA,kBAAkB,CAAG,CACvBC,OAAO,CAAEH,OAAO,CAACI,GAAR,CAAY,aAAZ,CADc,CAA3B,C,GAKMC,CAAAA,U,6DAeFC,O,CAAU,SAACC,IAAD,CAAU,CAChBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,MAAOX,CAAAA,KAAK,CAACY,IAAN,WAAcT,iBAAd,kBAAgDM,IAAhD,CAAP,CACH,C,MAEDI,S,CAAY,SAACJ,IAAD,CAAU,CAClBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA;AACAD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAEA;AACA;AACA;AACA;AAEA,GAAMK,CAAAA,QAAQ,CAAG,CACbC,QAAQ,CAAEN,IAAI,CAACO,EADF,CAEbC,QAAQ,CAAER,IAAI,CAACQ,QAFF,CAAjB,CAIA;AACAP,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACAZ,OAAO,CAACgB,GAAR,CAAY,QAAZ,CAAsBJ,QAAQ,CAACC,QAA/B,EACA;AACA,MAAOf,CAAAA,KAAK,CAACY,IAAN,WAAcT,iBAAd,UAAwCW,QAAxC,CAAP,CACH,C,MAODK,U,CAAa,SAACV,IAAD,CAAU,CACnBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA;AACAD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAEA;AACA;AACA;AACA;AAEA,GAAMK,CAAAA,QAAQ,CAAG,CACbC,QAAQ,CAAEN,IAAI,CAACO,EADF,CAEbC,QAAQ,CAAER,IAAI,CAACQ,QAFF,CAAjB,CAIA;AACAP,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACAZ,OAAO,CAACgB,GAAR,CAAY,QAAZ,CAAsBJ,QAAQ,CAACC,QAA/B,EACA;AACA,MAAOf,CAAAA,KAAK,CAACY,IAAN,WAAcT,iBAAd,YAA0CW,QAA1C,CAAoDV,kBAApD,CAAP,CACH,C,MAEDgB,U,CAAa,SAACX,IAAD,CAAU,CACnBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,MAAOX,CAAAA,KAAK,CAACY,IAAN,WAAcT,iBAAd,sBAAoDM,IAApD,CAAP,CACH,C,GAGL,cAAe,IAAIF,CAAAA,UAAJ,EAAf","sourcesContent":["import axios from 'axios'; // 액시오스\r\n// import Cookies from 'universal-cookie';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst USER_API_BASE_URL = \"http://localhost:8080\";\r\nconst AxiosRequestConfig = {\r\n    headers: cookies.get(\"accessToken\")\r\n}\r\n\r\n\r\nclass ApiService {\r\n    /*\r\n      fetchUsers() {\r\n          return axios.get(USER_API_BASE_URL);\r\n      }\r\n  \r\n      fetchUserByID(userID) {\r\n          return axios.get(USER_API_BASE_URL + '/' + userID);\r\n      }\r\n  \r\n      deleteUser(userID) {\r\n          return axios.delete(USER_API_BASE_URL + '/' + userID);\r\n      }\r\n  */\r\n\r\n    addUser = (user) => {\r\n        console.log(\"addUser In\");\r\n        return axios.post(`${USER_API_BASE_URL}/users/signup`, user);\r\n    }\r\n\r\n    loginUser = (user) => {\r\n        console.log(\"login success\");\r\n        // console.log(`URL : ${USER_API_BASE_URL}/login`);\r\n        console.log(user);\r\n\r\n        // cofing 넣었을때 전송 오류 남\r\n        // const AxiosRequestConfig = {\r\n        //     transformRequest: 'application/x-www-form-urlencoded'\r\n        // }\r\n\r\n        const userData = {\r\n            username: user.id,\r\n            password: user.password\r\n        }\r\n        // cookies.set(\"id\", userData.username)\r\n        console.log(userData);\r\n        cookies.set(\"userId\", userData.username);\r\n        // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\r\n        return axios.post(`${USER_API_BASE_URL}/auth`, userData);\r\n    }\r\n    /*\r\n        editUser(user) {\r\n            return axios.put(USER_API_BASE_URL + '/' + user.id, user);\r\n        }\r\n        */\r\n\r\n    logoutUser = (user) => {\r\n        console.log(\"login success\");\r\n        // console.log(`URL : ${USER_API_BASE_URL}/login`);\r\n        console.log(user);\r\n\r\n        // cofing 넣었을때 전송 오류 남\r\n        // const AxiosRequestConfig = {\r\n        //     transformRequest: 'application/x-www-form-urlencoded'\r\n        // }\r\n\r\n        const userData = {\r\n            username: user.id,\r\n            password: user.password\r\n        }\r\n        // cookies.set(\"id\", userData.username)\r\n        console.log(userData);\r\n        cookies.set(\"userId\", userData.username);\r\n        // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\r\n        return axios.post(`${USER_API_BASE_URL}/logout`, userData, AxiosRequestConfig);\r\n    }\r\n\r\n    UpdateUser = (user) => {\r\n        console.log(\"UpdateUser\");\r\n        return axios.post(`${USER_API_BASE_URL}/users/updateUser`, user);\r\n    }\r\n}\r\n\r\nexport default new ApiService();"]},"metadata":{},"sourceType":"module"}