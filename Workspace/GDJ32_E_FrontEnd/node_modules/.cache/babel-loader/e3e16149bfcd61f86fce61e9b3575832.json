{"ast":null,"code":"var _jsxFileName = \"C:\\\\GitHub\\\\GDJ32_E_WebProject\\\\Workspace\\\\GDJ32_E_FrontEnd\\\\src\\\\components\\\\board\\\\CreateBoardComponent.jsx\";\nimport React, { Component } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport BoardService from '../../service/BoardService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst history = useNavigate;\n\nclass CreateBoardComponent extends Component {\n  constructor(props) {\n    super(props); // # 1. this.state에 폼 양식에서 사용될 파라미터를 정의\n\n    this.changeCategoryHandler = event => {\n      this.setState({\n        category: event.target.value\n      }); // console.log(event.target.value);\n    };\n\n    this.changeTitleHandler = event => {\n      this.setState({\n        title: event.target.value\n      }); // console.log(event.target.value);\n    };\n\n    this.changeContentHandler = event => {\n      this.setState({\n        content: event.target.value\n      }); // console.log(event.target.value);\n    };\n\n    this.createBoard = event => {\n      const cbState = this.state;\n      event.preventDefault();\n      const board = {\n        category: cbState.category,\n        title: cbState.title,\n        content: cbState.content // ID: this.state.ID\n\n      };\n      console.log(`board => ${JSON.stringify(board)}`); // 보내짐 확인\n      // if(this.state.index == '_create'){\n\n      if (cbState.idx === '_create') {\n        BoardService.createBoard(board).then(res => {\n          console.log(res);\n          history('/board');\n        });\n      } else {\n        // BoardService.updateBoard(this.state.index, board).then(res => {\n        BoardService.updateBoard(cbState.idx, board).then(res => {\n          console.log(res);\n          history('/board');\n        });\n      }\n    };\n\n    this.cancel = () => {\n      history('/board');\n    };\n\n    this.componentDidMount = () => {\n      // if (this.state.index === '_create') {\n      const cbState = this.state;\n\n      if (cbState.idx !== '_create') {\n        // BoardService.getOneBoard(this.state.index).then( (res) => {\n        BoardService.getOneBoard(cbState.idx).then(res => {\n          const board = res.data;\n          console.log(`board => ${JSON.stringify(board)}`);\n          this.setState({\n            category: board.category,\n            title: board.title,\n            content: board.content\n          });\n        });\n      }\n    };\n\n    this.state = {\n      // index : this.props.match.params.index, // 글 작성인지 수정인지 구분하기 위한 파라미터\n      idx: props.match.params.idx,\n      category: 1,\n      // 초기값(기본값) 설정\n      title: '',\n      content: '' // ID: ''\n\n    }; // # 2.\n\n    this.changeCategoryHandler = this.changeCategoryHandler.bind(this);\n    this.changeTitleHandler = this.changeTitleHandler.bind(this);\n    this.changeContentHandler = this.changeContentHandler.bind(this); // this.changeIdHandler = this.changeIdHandler.bind(this);\n\n    this.createBoard = this.createBoard.bind(this);\n  }\n\n  getTitle() {\n    const cbState = this.setState;\n\n    if (cbState.idx === '_create') {\n      // if (this.state.index === '_create') {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center\",\n        children: \"\\uC0C8\\uAE00\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-center\",\n      children: [cbState.index, \"\\uAE00\\uC744 \\uC218\\uC815 \\uD569\\uB2C8\\uB2E4.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 16\n    }, this);\n  } // # 3. \n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card col-md-6 offset-md-3 offset-md-3\",\n            children: [this.getTitle(), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-center\",\n              children: \"\\uC0C8\\uAE00\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" Type \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    placeholder: \"category\",\n                    name: \"category\",\n                    className: \"form-control\",\n                    value: this.state.category,\n                    onChange: this.changeCategoryHandler,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"0\",\n                      children: \"\\uACF5\\uC9C0\\uC0AC\\uD56D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"\\uC790\\uB8CC\\uC2E4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"3\",\n                      children: \"\\uC0AC\\uACE0\\uD31D\\uB2C8\\uB2E4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" \\uC81C\\uBAA9 \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"title\",\n                    name: \"title\",\n                    className: \"form-control\",\n                    value: this.state.title,\n                    onChange: this.changeTitleHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" \\uB0B4\\uC6A9  \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    placeholder: \"content\",\n                    name: \"content\",\n                    className: \"form-control\",\n                    value: this.state.content,\n                    onChange: this.changeContentHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  onClick: this.createBoard,\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: this.cancel.bind(this),\n                  style: {\n                    marginLeft: \"10px\"\n                  },\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CreateBoardComponent;","map":{"version":3,"sources":["C:/GitHub/GDJ32_E_WebProject/Workspace/GDJ32_E_FrontEnd/src/components/board/CreateBoardComponent.jsx"],"names":["React","Component","useNavigate","BoardService","history","CreateBoardComponent","constructor","props","changeCategoryHandler","event","setState","category","target","value","changeTitleHandler","title","changeContentHandler","content","createBoard","cbState","state","preventDefault","board","console","log","JSON","stringify","idx","then","res","updateBoard","cancel","componentDidMount","getOneBoard","data","match","params","bind","getTitle","index","render","marginLeft"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,MAAMC,OAAO,GAAGF,WAAhB;;AAEA,MAAMG,oBAAN,SAAmCJ,SAAnC,CAA6C;AACzCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN,EADe,CAGf;;AAHe,SA+BnBC,qBA/BmB,GA+BMC,KAAD,IAAW;AAC/B,WAAKC,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAxB,OAAd,EAD+B,CAEhC;AACF,KAlCkB;;AAAA,SAoCnBC,kBApCmB,GAoCGL,KAAD,IAAW;AAC5B,WAAKC,QAAL,CAAc;AAACK,QAAAA,KAAK,EAAEN,KAAK,CAACG,MAAN,CAAaC;AAArB,OAAd,EAD4B,CAE5B;AACH,KAvCkB;;AAAA,SAyCnBG,oBAzCmB,GAyCKP,KAAD,IAAW;AAC9B,WAAKC,QAAL,CAAc;AAACO,QAAAA,OAAO,EAAER,KAAK,CAACG,MAAN,CAAaC;AAAvB,OAAd,EAD8B,CAE9B;AACH,KA5CkB;;AAAA,SAmDnBK,WAnDmB,GAmDJT,KAAD,IAAW;AACrB,YAAMU,OAAO,GAAG,KAAKC,KAArB;AACAX,MAAAA,KAAK,CAACY,cAAN;AACA,YAAMC,KAAK,GAAG;AACVX,QAAAA,QAAQ,EAAEQ,OAAO,CAACR,QADR;AAEVI,QAAAA,KAAK,EAAEI,OAAO,CAACJ,KAFL;AAGVE,QAAAA,OAAO,EAAEE,OAAO,CAACF,OAHP,CAIV;;AAJU,OAAd;AAMAM,MAAAA,OAAO,CAACC,GAAR,CAAa,YAAWC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAsB,EAA9C,EATqB,CAS6B;AAClD;;AACI,UAAGH,OAAO,CAACQ,GAAR,KAAgB,SAAnB,EAA6B;AACzBxB,QAAAA,YAAY,CAACe,WAAb,CAAyBI,KAAzB,EAAgCM,IAAhC,CAAqCC,GAAG,IAAI;AACxCN,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACNzB,UAAAA,OAAO,CAAC,QAAD,CAAP;AACD,SAHG;AAIP,OALG,MAKG;AACH;AACID,QAAAA,YAAY,CAAC2B,WAAb,CAAyBX,OAAO,CAACQ,GAAjC,EAAsCL,KAAtC,EAA6CM,IAA7C,CAAkDC,GAAG,IAAI;AACrDN,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACJzB,UAAAA,OAAO,CAAC,QAAD,CAAP;AACH,SAHG;AAIP;AACJ,KA1EkB;;AAAA,SA6EnB2B,MA7EmB,GA6EV,MAAM;AACX3B,MAAAA,OAAO,CAAC,QAAD,CAAP;AACH,KA/EkB;;AAAA,SAiFnB4B,iBAjFmB,GAiFC,MAAM;AACtB;AACA,YAAMb,OAAO,GAAG,KAAKC,KAArB;;AAEA,UAAID,OAAO,CAACQ,GAAR,KAAgB,SAApB,EAA+B;AAC3B;AACAxB,QAAAA,YAAY,CAAC8B,WAAb,CAAyBd,OAAO,CAACQ,GAAjC,EAAsCC,IAAtC,CAA6CC,GAAD,IAAS;AACjD,gBAAMP,KAAK,GAAGO,GAAG,CAACK,IAAlB;AACAX,UAAAA,OAAO,CAACC,GAAR,CAAa,YAAWC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAsB,EAA9C;AAEA,eAAKZ,QAAL,CAAc;AACNC,YAAAA,QAAQ,EAAEW,KAAK,CAACX,QADV;AAENI,YAAAA,KAAK,EAAEO,KAAK,CAACP,KAFP;AAGNE,YAAAA,OAAO,EAAEK,KAAK,CAACL;AAHT,WAAd;AAMH,SAVD;AAWH;AACJ,KAnGkB;;AAIf,SAAKG,KAAL,GAAa;AACT;AACAO,MAAAA,GAAG,EAAGpB,KAAK,CAAC4B,KAAN,CAAYC,MAAZ,CAAmBT,GAFhB;AAGThB,MAAAA,QAAQ,EAAE,CAHD;AAGI;AACbI,MAAAA,KAAK,EAAE,EAJE;AAKTE,MAAAA,OAAO,EAAE,EALA,CAMT;;AANS,KAAb,CAJe,CAaf;;AACA,SAAKT,qBAAL,GAA6B,KAAKA,qBAAL,CAA2B6B,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAKvB,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBuB,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKrB,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BqB,IAA1B,CAA+B,IAA/B,CAA5B,CAhBe,CAiBf;;AACA,SAAKnB,WAAL,GAAmB,KAAKA,WAAL,CAAiBmB,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDC,EAAAA,QAAQ,GAAG;AACP,UAAMnB,OAAO,GAAG,KAAKT,QAArB;;AACA,QAAIS,OAAO,CAACQ,GAAR,KAAgB,SAApB,EAA+B;AAC/B;AACI,0BAAO;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AACD,wBAAO;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA,iBAA6BR,OAAO,CAACoB,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GA7BwC,CA+BzC;;;AAwEAC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI;AAAK,QAAA,SAAS,EAAG,WAAjB;AAAA,+BACI;AAAK,UAAA,SAAS,EAAG,KAAjB;AAAA,iCACI;AAAK,YAAA,SAAS,EAAG,uCAAjB;AAAA,uBAEO,KAAKF,QAAL,EAFP,eAII;AAAI,cAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI;AAAK,cAAA,SAAS,EAAG,WAAjB;AAAA,qCACI;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAG,YAAjB;AAAA,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAQ,oBAAA,WAAW,EAAC,UAApB;AAA+B,oBAAA,IAAI,EAAC,UAApC;AAA+C,oBAAA,SAAS,EAAC,cAAzD;AACA,oBAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWT,QADlB;AAC4B,oBAAA,QAAQ,EAAE,KAAKH,qBAD3C;AAAA,4CAEI;AAAQ,sBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAGI;AAAQ,sBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHJ,eAII;AAAQ,sBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJJ,eAKI;AAAQ,sBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAWI;AAAK,kBAAA,SAAS,EAAG,YAAjB;AAAA,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAO,oBAAA,IAAI,EAAC,MAAZ;AAAmB,oBAAA,WAAW,EAAC,OAA/B;AAAuC,oBAAA,IAAI,EAAC,OAA5C;AAAoD,oBAAA,SAAS,EAAC,cAA9D;AACA,oBAAA,KAAK,EAAE,KAAKY,KAAL,CAAWL,KADlB;AACyB,oBAAA,QAAQ,EAAE,KAAKD;AADxC;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXJ,eAgBI;AAAK,kBAAA,SAAS,EAAG,YAAjB;AAAA,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAU,oBAAA,WAAW,EAAC,SAAtB;AAAgC,oBAAA,IAAI,EAAC,SAArC;AAA+C,oBAAA,SAAS,EAAC,cAAzD;AACA,oBAAA,KAAK,EAAE,KAAKM,KAAL,CAAWH,OADlB;AAC2B,oBAAA,QAAQ,EAAE,KAAKD;AAD1C;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhBJ,eAsBI;AAAQ,kBAAA,SAAS,EAAC,iBAAlB;AAAoC,kBAAA,OAAO,EAAE,KAAKE,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtBJ,eAuBI;AAAQ,kBAAA,SAAS,EAAC,gBAAlB;AAAmC,kBAAA,OAAO,EAAE,KAAKa,MAAL,CAAYM,IAAZ,CAAiB,IAAjB,CAA5C;AAAoE,kBAAA,KAAK,EAAE;AAACI,oBAAAA,UAAU,EAAC;AAAZ,mBAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA0CH;;AAlJwC;;AAoJ7C,eAAepC,oBAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BoardService from '../../service/BoardService';\r\n\r\nconst history = useNavigate;\r\n\r\nclass CreateBoardComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // # 1. this.state에 폼 양식에서 사용될 파라미터를 정의\r\n        this.state = {\r\n            // index : this.props.match.params.index, // 글 작성인지 수정인지 구분하기 위한 파라미터\r\n            idx : props.match.params.idx,\r\n            category: 1, // 초기값(기본값) 설정\r\n            title: '',\r\n            content: '',\r\n            // ID: ''\r\n        }\r\n\r\n        // # 2.\r\n        this.changeCategoryHandler = this.changeCategoryHandler.bind(this);\r\n        this.changeTitleHandler = this.changeTitleHandler.bind(this);\r\n        this.changeContentHandler = this.changeContentHandler.bind(this);\r\n        // this.changeIdHandler = this.changeIdHandler.bind(this);\r\n        this.createBoard = this.createBoard.bind(this);\r\n    }\r\n\r\n    getTitle() {\r\n        const cbState = this.setState;\r\n        if (cbState.idx === '_create') {\r\n        // if (this.state.index === '_create') {\r\n            return <h3 className=\"text-center\">새글을 작성해주세요</h3>\r\n        }\r\n        return <h3 className=\"text-center\">{cbState.index}글을 수정 합니다.</h3>\r\n    }\r\n\r\n    // # 3. \r\n    changeCategoryHandler = (event) => {\r\n        this.setState({category: event.target.value});\r\n       // console.log(event.target.value);\r\n    }\r\n    // # 3. \r\n    changeTitleHandler = (event) => {\r\n        this.setState({title: event.target.value});\r\n        // console.log(event.target.value);\r\n    }\r\n    // # 3. \r\n    changeContentHandler = (event) => {\r\n        this.setState({content: event.target.value});\r\n        // console.log(event.target.value);\r\n    }\r\n    // # 3. \r\n    // changeIdHandler = (event) => {\r\n    //     this.setState({ID: event.target.value});\r\n    // }\r\n\r\n    // # 4. save 버튼을 클릭시 api에 글 작성 리퀘스트를 보내는 함수를 선언\r\n    createBoard = (event) => {\r\n        const cbState = this.state;\r\n        event.preventDefault();\r\n        const board = {\r\n            category: cbState.category,\r\n            title: cbState.title,\r\n            content: cbState.content\r\n            // ID: this.state.ID\r\n        };\r\n        console.log(`board => ${JSON.stringify(board)}`); // 보내짐 확인\r\n        // if(this.state.index == '_create'){\r\n            if(cbState.idx === '_create'){\r\n                BoardService.createBoard(board).then(res => {\r\n                    console.log(res);\r\n              history('/board');\r\n            });\r\n        } else {\r\n            // BoardService.updateBoard(this.state.index, board).then(res => {\r\n                BoardService.updateBoard(cbState.idx, board).then(res => {\r\n                    console.log(res);\r\n                history('/board');\r\n            })\r\n        }   \r\n    }\r\n\r\n    // 글작성 취소 버튼이 클릭되었을때 글목록 페이지로 이동하는 함수선언\r\n    cancel = () => {\r\n        history('/board');\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        // if (this.state.index === '_create') {\r\n        const cbState = this.state;\r\n\r\n        if (cbState.idx !== '_create') {    \r\n            // BoardService.getOneBoard(this.state.index).then( (res) => {\r\n            BoardService.getOneBoard(cbState.idx).then( (res) => {\r\n                const board = res.data;\r\n                console.log(`board => ${JSON.stringify(board)}`);\r\n                \r\n                this.setState({\r\n                        category: board.category,\r\n                        title: board.title,\r\n                        content: board.content\r\n                       \r\n                    });\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className = \"container\">\r\n                    <div className = \"row\">\r\n                        <div className = \"card col-md-6 offset-md-3 offset-md-3\">\r\n                           {\r\n                               this.getTitle()\r\n                            }\r\n                            <h3 className=\"text-center\">새글을 작성해주세요</h3>\r\n                            <div className = \"card-body\">\r\n                                <form>\r\n                                    <div className = \"form-group\">\r\n                                        <label> Type </label>\r\n                                        <select placeholder=\"category\" name=\"category\" className=\"form-control\" \r\n                                        value={this.state.category} onChange={this.changeCategoryHandler}>\r\n                                            <option value=\"0\">공지사항</option>\r\n                                            <option value=\"1\">자유게시판</option>\r\n                                            <option value=\"2\">자료실</option>\r\n                                            <option value=\"3\">사고팝니다</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 제목 </label>\r\n                                        <input type=\"text\" placeholder=\"title\" name=\"title\" className=\"form-control\" \r\n                                        value={this.state.title} onChange={this.changeTitleHandler}/>\r\n                                    </div>\r\n                                    <div className = \"form-group\">\r\n                                        <label> 내용  </label>\r\n                                        <textarea placeholder=\"content\" name=\"content\" className=\"form-control\" \r\n                                        value={this.state.content} onChange={this.changeContentHandler}/>\r\n                                    </div>\r\n                            \r\n                                    <button className=\"btn btn-success\" onClick={this.createBoard}>Save</button>\r\n                                    <button className=\"btn btn-danger\" onClick={this.cancel.bind(this)} style={{marginLeft:\"10px\"}}>Cancel</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default CreateBoardComponent;"]},"metadata":{},"sourceType":"module"}