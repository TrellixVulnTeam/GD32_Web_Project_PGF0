{"ast":null,"code":"var _jsxFileName = \"C:\\\\GitHub\\\\GDJ32_E_WebProject\\\\Workspace\\\\GDJ32_E_FrontEnd\\\\src\\\\pages\\\\Login.js\";\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { Box, Button, Container, Grid, Link, TextField, Typography } from '@material-ui/core';\nimport FacebookIcon from 'src/icons/Facebook';\nimport GoogleIcon from 'src/icons/Google';\nimport ApiService from 'src/ApiService';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst initialValues = {\n  id: '',\n  password: ''\n};\nconst errMassage = {\n  hidden: false,\n  Massage: '회원 정보가 잘못 입력되었습니다. 다시 입력해 주세요'\n};\n\nconst Login = () => {\n  // const navigate = useNavigate();\n  function loginUser(user) {\n    ApiService.loginUser(user).then(res => {\n      console.log(\"res\");\n      console.log(res.statusText);\n      console.log(res.data.accessToken);\n      cookies.set(\"accessToken\", res.data.accessToken);\n      cookies.set(\"tokenType\", res.data.tokenType);\n      console.log(res.data);\n      console.log(cookies.get(\"accessToken\"));\n      console.log(res.data.name);\n      cookies.set(\"memberIndex\", encodeURIComponent(res.data.memberIndex));\n      cookies.set(\"id\", encodeURIComponent(res.data.id));\n      cookies.set(\"name\", encodeURIComponent(res.data.name));\n      cookies.set(\"phone\", encodeURIComponent(res.data.phone));\n      cookies.set(\"zipcode\", encodeURIComponent(res.data.zipcode));\n      cookies.set(\"address\", encodeURIComponent(res.data.address));\n      cookies.set(\"addressDetail\", encodeURIComponent(res.data.address_detail));\n      cookies.set(\"birthday\", encodeURIComponent(res.data.birthday));\n      cookies.set(\"email\", res.data.email, \"UTF-8\");\n      console.log(cookies.get(\"email\"));\n      window.location.replace(\"/\"); // navigate('/', { replace: true });\n    }).catch(err => {\n      console.log(\"login err : \", err);\n      alert(\"회원정보가 잘못되었습니다.\");\n      errMassage.hidden = false;\n      cookies.remove(\"userId\");\n      window.location.assign(\"/login\"); // navigate('/', { replace: true });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Login | Material Kit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        backgroundColor: 'background.default',\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            initialValues\n          },\n          validationSchema: Yup.object().shape({\n            id: Yup.string().max(255).required('아이디를 입력해 주세요'),\n            password: Yup.string().max(255).required('비밀번호를 입력해 주세요')\n          }),\n          onSubmit: values => {\n            // navigate('/app/dashboard', { replace: true });\n            console.log(values);\n            loginUser(values);\n          },\n          children: ({\n            errors,\n            handleBlur,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n            touched,\n            values\n          }) => /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 3\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"textPrimary\",\n                variant: \"h2\",\n                children: \"\\uB85C\\uADF8\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  fullWidth: true,\n                  startIcon: /*#__PURE__*/_jsxDEV(FacebookIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 34\n                  }, this),\n                  onClick: handleSubmit,\n                  size: \"large\",\n                  variant: \"contained\",\n                  children: \"\\uD398\\uC774\\uC2A4\\uBD81 \\uACC4\\uC815\\uC73C\\uB85C \\uB85C\\uADF8\\uC778\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  fullWidth: true,\n                  startIcon: /*#__PURE__*/_jsxDEV(GoogleIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 34\n                  }, this),\n                  onClick: handleSubmit,\n                  size: \"large\",\n                  variant: \"contained\",\n                  children: \"\\uAD6C\\uAE00 \\uACC4\\uC815\\uC73C\\uB85C \\uB85C\\uADF8\\uC778\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                pb: 1,\n                pt: 3\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"center\",\n                color: \"textSecondary\",\n                variant: \"body1\",\n                children: \"\\uD639\\uC740 \\uC77C\\uBC18 \\uC544\\uC774\\uB514\\uB85C \\uB85C\\uADF8\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              error: Boolean(touched.id && errors.id),\n              fullWidth: true,\n              helperText: touched.id && errors.id,\n              label: \"\\uC544\\uC774\\uB514\",\n              margin: \"normal\",\n              name: \"id\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              type: \"text\",\n              value: values.id,\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              error: Boolean(touched.password && errors.password),\n              fullWidth: true,\n              helperText: touched.password && errors.password,\n              label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n              margin: \"normal\",\n              name: \"password\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              type: \"password\",\n              value: values.password,\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                py: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                disabled: isSubmitting,\n                fullWidth: true,\n                size: \"large\",\n                type: \"submit\",\n                variant: \"contained\",\n                children: \"\\uB85C\\uADF8\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              hidden: errMassage.hidden,\n              color: \"red\",\n              value: errMassage.Massage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              variant: \"body1\",\n              children: [\"\\uC544\\uC9C1 \\uACC4\\uC815\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uAE4C?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n                component: RouterLink,\n                to: \"/register\",\n                variant: \"h6\",\n                children: \"\\uD68C\\uC6D0 \\uAC00\\uC785\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/GitHub/GDJ32_E_WebProject/Workspace/GDJ32_E_FrontEnd/src/pages/Login.js"],"names":["Link","RouterLink","Helmet","Yup","Formik","Box","Button","Container","Grid","TextField","Typography","FacebookIcon","GoogleIcon","ApiService","Cookies","cookies","initialValues","id","password","errMassage","hidden","Massage","Login","loginUser","user","then","res","console","log","statusText","data","accessToken","set","tokenType","get","name","encodeURIComponent","memberIndex","phone","zipcode","address","address_detail","birthday","email","window","location","replace","catch","err","alert","remove","assign","backgroundColor","display","flexDirection","height","justifyContent","object","shape","string","max","required","values","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","mb","pb","pt","Boolean","py"],"mappings":"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","sourcesContent":["import { Link as RouterLink } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet';\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport FacebookIcon from 'src/icons/Facebook';\r\nimport GoogleIcon from 'src/icons/Google';\r\nimport ApiService from 'src/ApiService';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst initialValues = {\r\n  id: '',\r\n  password: ''\r\n}\r\n\r\nconst errMassage = {\r\n  hidden: false,\r\n  Massage: '회원 정보가 잘못 입력되었습니다. 다시 입력해 주세요'\r\n}\r\n\r\nconst Login = () => {\r\n  // const navigate = useNavigate();\r\n\r\n  function loginUser(user) {\r\n    ApiService.loginUser(user)\r\n      .then(res => {\r\n        console.log(\"res\");\r\n        console.log(res.statusText);\r\n        console.log(res.data.accessToken);\r\n        cookies.set(\"accessToken\", res.data.accessToken);\r\n        cookies.set(\"tokenType\", res.data.tokenType)\r\n        console.log(res.data)\r\n        console.log(cookies.get(\"accessToken\"));\r\n        console.log(res.data.name)\r\n        cookies.set(\"memberIndex\", encodeURIComponent(res.data.memberIndex));\r\n        cookies.set(\"id\", encodeURIComponent(res.data.id));\r\n        cookies.set(\"name\", encodeURIComponent(res.data.name));\r\n        cookies.set(\"phone\", encodeURIComponent(res.data.phone));\r\n        cookies.set(\"zipcode\", encodeURIComponent(res.data.zipcode));\r\n        cookies.set(\"address\", encodeURIComponent(res.data.address));\r\n        cookies.set(\"addressDetail\", encodeURIComponent(res.data.address_detail));\r\n        cookies.set(\"birthday\", encodeURIComponent(res.data.birthday));\r\n        cookies.set(\"email\", (res.data.email), \"UTF-8\");\r\n        console.log((cookies.get(\"email\")))\r\n\r\n        window.location.replace(\"/\")\r\n        // navigate('/', { replace: true });\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(\"login err : \", err);\r\n        alert(\"회원정보가 잘못되었습니다.\");\r\n        errMassage.hidden = false;\r\n        cookies.remove(\"userId\");\r\n        window.location.assign(\"/login\")\r\n        // navigate('/', { replace: true });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Login | Material Kit</title>\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          backgroundColor: 'background.default',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100%',\r\n          justifyContent: 'center'\r\n        }}\r\n      >\r\n        <Container maxWidth=\"sm\">\r\n          <Formik\r\n            initialValues={{ initialValues }}\r\n            validationSchema={Yup.object().shape({\r\n              id: Yup.string().max(255).required('아이디를 입력해 주세요'),\r\n              password: Yup.string().max(255).required('비밀번호를 입력해 주세요')\r\n            })}\r\n            onSubmit={(values) => {\r\n              // navigate('/app/dashboard', { replace: true });\r\n              console.log(values);\r\n              loginUser(values);\r\n            }}\r\n          >\r\n            {({\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              isSubmitting,\r\n              touched,\r\n              values\r\n            }) => (\r\n              <form onSubmit={handleSubmit}>\r\n                <Box sx={{ mb: 3 }}>\r\n                  <Typography\r\n                    color=\"textPrimary\"\r\n                    variant=\"h2\"\r\n                  >\r\n                    로그인\r\n                  </Typography>\r\n                </Box>\r\n                <Grid\r\n                  container\r\n                  spacing={3}\r\n                >\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    md={6}\r\n                  >\r\n                    <Button\r\n                      color=\"primary\"\r\n                      fullWidth\r\n                      startIcon={<FacebookIcon />}\r\n                      onClick={handleSubmit}\r\n                      size=\"large\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      페이스북 계정으로 로그인\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    md={6}\r\n                  >\r\n                    <Button\r\n                      fullWidth\r\n                      startIcon={<GoogleIcon />}\r\n                      onClick={handleSubmit}\r\n                      size=\"large\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      구글 계정으로 로그인\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n                <Box\r\n                  sx={{\r\n                    pb: 1,\r\n                    pt: 3\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    align=\"center\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"body1\"\r\n                  >\r\n                    혹은 일반 아이디로 로그인\r\n                  </Typography>\r\n                </Box>\r\n                <TextField\r\n                  error={Boolean(touched.id && errors.id)}\r\n                  fullWidth\r\n                  helperText={touched.id && errors.id}\r\n                  label=\"아이디\"\r\n                  margin=\"normal\"\r\n                  name=\"id\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  type=\"text\"\r\n                  value={values.id}\r\n                  variant=\"outlined\"\r\n                />\r\n                <TextField\r\n                  error={Boolean(touched.password && errors.password)}\r\n                  fullWidth\r\n                  helperText={touched.password && errors.password}\r\n                  label=\"비밀번호\"\r\n                  margin=\"normal\"\r\n                  name=\"password\"\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  variant=\"outlined\"\r\n                />\r\n                <Box sx={{ py: 2 }}>\r\n                  <Button\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    fullWidth\r\n                    size=\"large\"\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                  >\r\n                    로그인\r\n                  </Button>\r\n                </Box>\r\n                <Typography\r\n                  hidden={errMassage.hidden}\r\n                  color=\"red\"\r\n                  value={errMassage.Massage} />\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  variant=\"body1\"\r\n                >\r\n                  아직 계정이 없습니까?\r\n                  {' '}\r\n                  <Link\r\n                    component={RouterLink}\r\n                    to=\"/register\"\r\n                    variant=\"h6\"\r\n                  >\r\n                    회원 가입\r\n                  </Link>\r\n                </Typography>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </Container>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}