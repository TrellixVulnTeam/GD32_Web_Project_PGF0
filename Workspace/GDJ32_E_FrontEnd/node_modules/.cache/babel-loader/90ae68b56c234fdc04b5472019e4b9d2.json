{"ast":null,"code":"import axios from 'axios'; // 액시오스\n// import Cookies from 'universal-cookie';\n\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\nconst USER_API_BASE_URL = \"http://localhost:8080\";\nconst AxiosRequestConfig = {\n  headers: cookies.get(\"accessToken\")\n};\n\nclass ApiService {\n  constructor() {\n    this.addUser = user => {\n      console.log(\"addUser In\");\n      return axios.post(`${USER_API_BASE_URL}/users/signup`, user);\n    };\n\n    this.loginUser = user => {\n      console.log(\"login success\"); // console.log(`URL : ${USER_API_BASE_URL}/login`);\n\n      console.log(user); // cofing 넣었을때 전송 오류 남\n      // const AxiosRequestConfig = {\n      //     transformRequest: 'application/x-www-form-urlencoded'\n      // }\n\n      const userData = {\n        username: user.id,\n        password: user.password\n      }; // cookies.set(\"id\", userData.username)\n\n      console.log(userData);\n      cookies.set(\"userId\", userData.username); // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\n\n      return axios.post(`${USER_API_BASE_URL}/auth`, userData);\n    };\n\n    this.logoutUser = user => {\n      console.log(\"login success\"); // console.log(`URL : ${USER_API_BASE_URL}/login`);\n\n      console.log(user); // cofing 넣었을때 전송 오류 남\n      // const AxiosRequestConfig = {\n      //     transformRequest: 'application/x-www-form-urlencoded'\n      // }\n\n      const userData = {\n        username: user.id,\n        password: user.password\n      }; // cookies.set(\"id\", userData.username)\n\n      console.log(userData);\n      cookies.set(\"userId\", userData.username); // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\n\n      return axios.post(`${USER_API_BASE_URL}/logout`, userData, AxiosRequestConfig);\n    };\n  }\n\n}\n\nexport default new ApiService();","map":{"version":3,"sources":["D:/gits/GDJ_32/SubBranch/Workspace/GDJ32_E_FrontEnd/src/ApiService.js"],"names":["axios","Cookies","cookies","USER_API_BASE_URL","AxiosRequestConfig","headers","get","ApiService","addUser","user","console","log","post","loginUser","userData","username","id","password","set","logoutUser"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAA2B;AAC3B;;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,MAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;AACA,MAAME,iBAAiB,GAAG,uBAA1B;AACA,MAAMC,kBAAkB,GAAG;AACvBC,EAAAA,OAAO,EAAEH,OAAO,CAACI,GAAR,CAAY,aAAZ;AADc,CAA3B;;AAKA,MAAMC,UAAN,CAAiB;AAAA;AAAA,SAebC,OAfa,GAeFC,IAAD,IAAU;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,aAAOX,KAAK,CAACY,IAAN,CAAY,GAAET,iBAAkB,eAAhC,EAAgDM,IAAhD,CAAP;AACH,KAlBY;;AAAA,SAoBbI,SApBa,GAoBAJ,IAAD,IAAU;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EADkB,CAElB;;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAHkB,CAKlB;AACA;AACA;AACA;;AAEA,YAAMK,QAAQ,GAAG;AACbC,QAAAA,QAAQ,EAAEN,IAAI,CAACO,EADF;AAEbC,QAAAA,QAAQ,EAAER,IAAI,CAACQ;AAFF,OAAjB,CAVkB,CAclB;;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACAZ,MAAAA,OAAO,CAACgB,GAAR,CAAY,QAAZ,EAAsBJ,QAAQ,CAACC,QAA/B,EAhBkB,CAiBlB;;AACA,aAAOf,KAAK,CAACY,IAAN,CAAY,GAAET,iBAAkB,OAAhC,EAAwCW,QAAxC,CAAP;AACH,KAvCY;;AAAA,SA8CbK,UA9Ca,GA8CCV,IAAD,IAAU;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EADmB,CAEnB;;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAHmB,CAKnB;AACA;AACA;AACA;;AAEA,YAAMK,QAAQ,GAAG;AACbC,QAAAA,QAAQ,EAAEN,IAAI,CAACO,EADF;AAEbC,QAAAA,QAAQ,EAAER,IAAI,CAACQ;AAFF,OAAjB,CAVmB,CAcnB;;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACAZ,MAAAA,OAAO,CAACgB,GAAR,CAAY,QAAZ,EAAsBJ,QAAQ,CAACC,QAA/B,EAhBmB,CAiBnB;;AACA,aAAOf,KAAK,CAACY,IAAN,CAAY,GAAET,iBAAkB,SAAhC,EAA0CW,QAA1C,EAAoDV,kBAApD,CAAP;AACH,KAjEY;AAAA;;AAAA;;AAoEjB,eAAe,IAAIG,UAAJ,EAAf","sourcesContent":["import axios from 'axios'; // 액시오스\r\n// import Cookies from 'universal-cookie';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst USER_API_BASE_URL = \"http://localhost:8080\";\r\nconst AxiosRequestConfig = {\r\n    headers: cookies.get(\"accessToken\")\r\n}\r\n\r\n\r\nclass ApiService {\r\n    /*\r\n      fetchUsers() {\r\n          return axios.get(USER_API_BASE_URL);\r\n      }\r\n  \r\n      fetchUserByID(userID) {\r\n          return axios.get(USER_API_BASE_URL + '/' + userID);\r\n      }\r\n  \r\n      deleteUser(userID) {\r\n          return axios.delete(USER_API_BASE_URL + '/' + userID);\r\n      }\r\n  */\r\n\r\n    addUser = (user) => {\r\n        console.log(\"addUser In\");\r\n        return axios.post(`${USER_API_BASE_URL}/users/signup`, user);\r\n    }\r\n\r\n    loginUser = (user) => {\r\n        console.log(\"login success\");\r\n        // console.log(`URL : ${USER_API_BASE_URL}/login`);\r\n        console.log(user);\r\n\r\n        // cofing 넣었을때 전송 오류 남\r\n        // const AxiosRequestConfig = {\r\n        //     transformRequest: 'application/x-www-form-urlencoded'\r\n        // }\r\n\r\n        const userData = {\r\n            username: user.id,\r\n            password: user.password\r\n        }\r\n        // cookies.set(\"id\", userData.username)\r\n        console.log(userData);\r\n        cookies.set(\"userId\", userData.username);\r\n        // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\r\n        return axios.post(`${USER_API_BASE_URL}/auth`, userData);\r\n    }\r\n    /*\r\n        editUser(user) {\r\n            return axios.put(USER_API_BASE_URL + '/' + user.id, user);\r\n        }\r\n        */\r\n\r\n    logoutUser = (user) => {\r\n        console.log(\"login success\");\r\n        // console.log(`URL : ${USER_API_BASE_URL}/login`);\r\n        console.log(user);\r\n\r\n        // cofing 넣었을때 전송 오류 남\r\n        // const AxiosRequestConfig = {\r\n        //     transformRequest: 'application/x-www-form-urlencoded'\r\n        // }\r\n\r\n        const userData = {\r\n            username: user.id,\r\n            password: user.password\r\n        }\r\n        // cookies.set(\"id\", userData.username)\r\n        console.log(userData);\r\n        cookies.set(\"userId\", userData.username);\r\n        // return axios.get(`${USER_API_BASE_URL}/demo/auth`, AxiosRequestConfig, userData);\r\n        return axios.post(`${USER_API_BASE_URL}/logout`, userData, AxiosRequestConfig);\r\n    }\r\n}\r\n\r\nexport default new ApiService();"]},"metadata":{},"sourceType":"module"}