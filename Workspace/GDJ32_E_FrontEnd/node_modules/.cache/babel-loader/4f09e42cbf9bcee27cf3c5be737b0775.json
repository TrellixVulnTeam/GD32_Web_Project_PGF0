{"ast":null,"code":"/* eslint-disable no-underscore-dangle */import{Chart}from'react-chartjs-2';// ChartJS extension rounded bar chart\n// https://codepen.io/jedtrow/full/ygRYgo\nfunction draw(){var ctx=this._chart.ctx;var vm=this._view;var borderWidth=vm.borderWidth;var left;var right;var top;var bottom;var signX;var signY;var borderSkipped;var radius;// If radius is less than 0 or is large enough to cause drawing errors a max\n//      radius is imposed. If cornerRadius is not defined set it to 0.\nvar cornerRadius=this._chart.config.options.cornerRadius;if(cornerRadius<0){cornerRadius=0;}if(typeof cornerRadius==='undefined'){cornerRadius=0;}if(!vm.horizontal){// bar\nleft=vm.x-vm.width/2;right=vm.x+vm.width/2;top=vm.y;bottom=vm.base;signX=1;signY=bottom>top?1:-1;borderSkipped=vm.borderSkipped||'bottom';}else{// horizontal bar\nleft=vm.base;right=vm.x;top=vm.y-vm.height/2;bottom=vm.y+vm.height/2;signX=right>left?1:-1;signY=1;borderSkipped=vm.borderSkipped||'left';}// Canvas doesn't allow us to stroke inside the width so we can\n// adjust the sizes to fit if we're setting a stroke on the line\nif(borderWidth){// borderWidth shold be less than bar width and bar height.\nvar barSize=Math.min(Math.abs(left-right),Math.abs(top-bottom));borderWidth=borderWidth>barSize?barSize:borderWidth;var halfStroke=borderWidth/2;// Adjust borderWidth when bar top position is near vm.base(zero).\nvar borderLeft=left+(borderSkipped!=='left'?halfStroke*signX:0);var borderRight=right+(borderSkipped!=='right'?-halfStroke*signX:0);var borderTop=top+(borderSkipped!=='top'?halfStroke*signY:0);var borderBottom=bottom+(borderSkipped!=='bottom'?-halfStroke*signY:0);// not become a vertical line?\nif(borderLeft!==borderRight){top=borderTop;bottom=borderBottom;}// not become a horizontal line?\nif(borderTop!==borderBottom){left=borderLeft;right=borderRight;}}ctx.beginPath();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=borderWidth;// Corner points, from bottom-left to bottom-right clockwise\n// | 1 2 |\n// | 0 3 |\nvar corners=[[left,bottom],[left,top],[right,top],[right,bottom]];// Find first (starting) corner with fallback to 'bottom'\nvar borders=['bottom','left','top','right'];var startCorner=borders.indexOf(borderSkipped,0);if(startCorner===-1){startCorner=0;}function cornerAt(index){return corners[(startCorner+index)%4];}// Draw rectangle from 'startCorner'\nvar corner=cornerAt(0);ctx.moveTo(corner[0],corner[1]);for(var i=1;i<4;i+=1){corner=cornerAt(i);var nextCornerId=i+1;if(nextCornerId===4){nextCornerId=0;}var width=corners[2][0]-corners[1][0];var height=corners[0][1]-corners[1][1];var x=corners[1][0];var y=corners[1][1];radius=cornerRadius;// Fix radius being too large\nif(radius>Math.abs(height)/2){radius=Math.floor(Math.abs(height)/2);}if(radius>Math.abs(width)/2){radius=Math.floor(Math.abs(width)/2);}if(height<0){// Negative values in a standard bar chart\nvar xTl=x;var xTr=x+width;var yTl=y+height;var yTr=y+height;var xBl=x;var xBr=x+width;var yBl=y;var yBr=y;// Draw\nctx.moveTo(xBl+radius,yBl);ctx.lineTo(xBr-radius,yBr);ctx.quadraticCurveTo(xBr,yBr,xBr,yBr-radius);ctx.lineTo(xTr,yTr+radius);ctx.quadraticCurveTo(xTr,yTr,xTr-radius,yTr);ctx.lineTo(xTl+radius,yTl);ctx.quadraticCurveTo(xTl,yTl,xTl,yTl+radius);ctx.lineTo(xBl,yBl-radius);ctx.quadraticCurveTo(xBl,yBl,xBl+radius,yBl);}else if(width<0){// Negative values in a horizontal bar chart\nvar _xTl=x+width;var _xTr=x;var _yTl=y;var _yTr=y;var _xBl=x+width;var _xBr=x;var _yBl=y+height;var _yBr=y+height;// Draw\nctx.moveTo(_xBl+radius,_yBl);ctx.lineTo(_xBr-radius,_yBr);ctx.quadraticCurveTo(_xBr,_yBr,_xBr,_yBr-radius);ctx.lineTo(_xTr,_yTr+radius);ctx.quadraticCurveTo(_xTr,_yTr,_xTr-radius,_yTr);ctx.lineTo(_xTl+radius,_yTl);ctx.quadraticCurveTo(_xTl,_yTl,_xTl,_yTl+radius);ctx.lineTo(_xBl,_yBl-radius);ctx.quadraticCurveTo(_xBl,_yBl,_xBl+radius,_yBl);}else{// Positive Value\nctx.moveTo(x+radius,y);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);}}ctx.fill();if(borderWidth){ctx.stroke();}}Chart.helpers.extend(Chart.elements.Rectangle.prototype,{draw:draw});","map":{"version":3,"sources":["C:/GitHub/GDJ32_E_WebProject/Workspace/GDJ32_E_FrontEnd/src/mixins/chartjs.js"],"names":["Chart","draw","ctx","_chart","vm","_view","borderWidth","left","right","top","bottom","signX","signY","borderSkipped","radius","cornerRadius","config","options","horizontal","x","width","y","base","height","barSize","Math","min","abs","halfStroke","borderLeft","borderRight","borderTop","borderBottom","beginPath","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","corners","borders","startCorner","indexOf","cornerAt","index","corner","moveTo","i","nextCornerId","floor","xTl","xTr","yTl","yTr","xBl","xBr","yBl","yBr","lineTo","quadraticCurveTo","fill","stroke","helpers","extend","elements","Rectangle","prototype"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\r\nimport { Chart } from 'react-chartjs-2';\r\n\r\n// ChartJS extension rounded bar chart\r\n// https://codepen.io/jedtrow/full/ygRYgo\r\nfunction draw() {\r\n  const { ctx } = this._chart;\r\n  const vm = this._view;\r\n  let { borderWidth } = vm;\r\n\r\n  let left;\r\n  let right;\r\n  let top;\r\n  let bottom;\r\n  let signX;\r\n  let signY;\r\n  let borderSkipped;\r\n  let radius;\r\n\r\n  // If radius is less than 0 or is large enough to cause drawing errors a max\r\n  //      radius is imposed. If cornerRadius is not defined set it to 0.\r\n  let { cornerRadius } = this._chart.config.options;\r\n  if (cornerRadius < 0) {\r\n    cornerRadius = 0;\r\n  }\r\n\r\n  if (typeof cornerRadius === 'undefined') {\r\n    cornerRadius = 0;\r\n  }\r\n\r\n  if (!vm.horizontal) {\r\n    // bar\r\n    left = vm.x - vm.width / 2;\r\n    right = vm.x + vm.width / 2;\r\n    top = vm.y;\r\n    bottom = vm.base;\r\n    signX = 1;\r\n    signY = bottom > top ? 1 : -1;\r\n    borderSkipped = vm.borderSkipped || 'bottom';\r\n  } else {\r\n    // horizontal bar\r\n    left = vm.base;\r\n    right = vm.x;\r\n    top = vm.y - vm.height / 2;\r\n    bottom = vm.y + vm.height / 2;\r\n    signX = right > left ? 1 : -1;\r\n    signY = 1;\r\n    borderSkipped = vm.borderSkipped || 'left';\r\n  }\r\n\r\n  // Canvas doesn't allow us to stroke inside the width so we can\r\n  // adjust the sizes to fit if we're setting a stroke on the line\r\n  if (borderWidth) {\r\n    // borderWidth shold be less than bar width and bar height.\r\n    const barSize = Math.min(Math.abs(left - right), Math.abs(top - bottom));\r\n    borderWidth = borderWidth > barSize ? barSize : borderWidth;\r\n    const halfStroke = borderWidth / 2;\r\n    // Adjust borderWidth when bar top position is near vm.base(zero).\r\n    const borderLeft = left + (borderSkipped !== 'left' ? halfStroke * signX : 0);\r\n    const borderRight = right + (borderSkipped !== 'right' ? -halfStroke * signX : 0);\r\n    const borderTop = top + (borderSkipped !== 'top' ? halfStroke * signY : 0);\r\n    const borderBottom = bottom + (borderSkipped !== 'bottom' ? -halfStroke * signY : 0);\r\n    // not become a vertical line?\r\n    if (borderLeft !== borderRight) {\r\n      top = borderTop;\r\n      bottom = borderBottom;\r\n    }\r\n    // not become a horizontal line?\r\n    if (borderTop !== borderBottom) {\r\n      left = borderLeft;\r\n      right = borderRight;\r\n    }\r\n  }\r\n\r\n  ctx.beginPath();\r\n  ctx.fillStyle = vm.backgroundColor;\r\n  ctx.strokeStyle = vm.borderColor;\r\n  ctx.lineWidth = borderWidth;\r\n\r\n  // Corner points, from bottom-left to bottom-right clockwise\r\n  // | 1 2 |\r\n  // | 0 3 |\r\n  const corners = [[left, bottom], [left, top], [right, top], [right, bottom]];\r\n\r\n  // Find first (starting) corner with fallback to 'bottom'\r\n  const borders = ['bottom', 'left', 'top', 'right'];\r\n  let startCorner = borders.indexOf(borderSkipped, 0);\r\n  if (startCorner === -1) {\r\n    startCorner = 0;\r\n  }\r\n\r\n  function cornerAt(index) {\r\n    return corners[(startCorner + index) % 4];\r\n  }\r\n\r\n  // Draw rectangle from 'startCorner'\r\n  let corner = cornerAt(0);\r\n  ctx.moveTo(corner[0], corner[1]);\r\n\r\n  for (let i = 1; i < 4; i += 1) {\r\n    corner = cornerAt(i);\r\n    let nextCornerId = i + 1;\r\n    if (nextCornerId === 4) {\r\n      nextCornerId = 0;\r\n    }\r\n\r\n    const width = corners[2][0] - corners[1][0];\r\n    const height = corners[0][1] - corners[1][1];\r\n    const x = corners[1][0];\r\n    const y = corners[1][1];\r\n\r\n    radius = cornerRadius;\r\n    // Fix radius being too large\r\n    if (radius > Math.abs(height) / 2) {\r\n      radius = Math.floor(Math.abs(height) / 2);\r\n    }\r\n    if (radius > Math.abs(width) / 2) {\r\n      radius = Math.floor(Math.abs(width) / 2);\r\n    }\r\n\r\n    if (height < 0) {\r\n      // Negative values in a standard bar chart\r\n      const xTl = x;\r\n      const xTr = x + width;\r\n      const yTl = y + height;\r\n      const yTr = y + height;\r\n\r\n      const xBl = x;\r\n      const xBr = x + width;\r\n      const yBl = y;\r\n      const yBr = y;\r\n\r\n      // Draw\r\n      ctx.moveTo(xBl + radius, yBl);\r\n      ctx.lineTo(xBr - radius, yBr);\r\n      ctx.quadraticCurveTo(xBr, yBr, xBr, yBr - radius);\r\n      ctx.lineTo(xTr, yTr + radius);\r\n      ctx.quadraticCurveTo(xTr, yTr, xTr - radius, yTr);\r\n      ctx.lineTo(xTl + radius, yTl);\r\n      ctx.quadraticCurveTo(xTl, yTl, xTl, yTl + radius);\r\n      ctx.lineTo(xBl, yBl - radius);\r\n      ctx.quadraticCurveTo(xBl, yBl, xBl + radius, yBl);\r\n    } else if (width < 0) {\r\n      // Negative values in a horizontal bar chart\r\n      const xTl = x + width;\r\n      const xTr = x;\r\n      const yTl = y;\r\n      const yTr = y;\r\n\r\n      const xBl = x + width;\r\n      const xBr = x;\r\n      const yBl = y + height;\r\n      const yBr = y + height;\r\n\r\n      // Draw\r\n      ctx.moveTo(xBl + radius, yBl);\r\n      ctx.lineTo(xBr - radius, yBr);\r\n      ctx.quadraticCurveTo(xBr, yBr, xBr, yBr - radius);\r\n      ctx.lineTo(xTr, yTr + radius);\r\n      ctx.quadraticCurveTo(xTr, yTr, xTr - radius, yTr);\r\n      ctx.lineTo(xTl + radius, yTl);\r\n      ctx.quadraticCurveTo(xTl, yTl, xTl, yTl + radius);\r\n      ctx.lineTo(xBl, yBl - radius);\r\n      ctx.quadraticCurveTo(xBl, yBl, xBl + radius, yBl);\r\n    } else {\r\n      // Positive Value\r\n      ctx.moveTo(x + radius, y);\r\n      ctx.lineTo(x + width - radius, y);\r\n      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n      ctx.lineTo(x + width, y + height - radius);\r\n      ctx.quadraticCurveTo(\r\n        x + width,\r\n        y + height,\r\n        x + width - radius,\r\n        y + height\r\n      );\r\n      ctx.lineTo(x + radius, y + height);\r\n      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n      ctx.lineTo(x, y + radius);\r\n      ctx.quadraticCurveTo(x, y, x + radius, y);\r\n    }\r\n  }\r\n\r\n  ctx.fill();\r\n  if (borderWidth) {\r\n    ctx.stroke();\r\n  }\r\n}\r\n\r\nChart.helpers.extend(Chart.elements.Rectangle.prototype, {\r\n  draw\r\n});\r\n"]},"metadata":{},"sourceType":"module"}